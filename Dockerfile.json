# This Dockerfile serves the pre-built web application using a lightweight Nginx server.
# The web assets are expected to be in the 'www' directory, which is created
# by the 'npm run build:web' command in the CI/CD pipeline before this build is run.

# Use the official Nginx image from Docker Hub
FROM nginx:alpine

# Set the working directory to Nginx's web root
WORKDIR /usr/share/nginx/html

# Remove the default Nginx welcome page to ensure a clean slate
RUN rm -rf ./*

# Copy the pre-built web assets from the 'www' directory of the build context
# into the current working directory (/usr/share/nginx/html) inside the container.
COPY www/ .

# Expose port 80 to allow traffic to the Nginx server
EXPOSE 80

# The base Nginx image already has a default CMD to start the server,
# so we don't need to specify it again.

